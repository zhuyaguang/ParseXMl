{"ID":0,"CreatedAt":"0001-01-01T00:00:00Z","UpdatedAt":"0001-01-01T00:00:00Z","DeletedAt":null,"Name":"短路保护电路及短路保护方法","ApplicationNO":"CN202010636064.6","ApplicationDate":"20200703","PublicationNO":"CN113889991A","PublicationDate":"20220104","Applicant":"圣邦微电子（北京）股份有限公司","ApplicantAddress":"100089 北京市海淀区西三环北路87号13层3-1301","Inventors":"崔先宇,","Abstract":"本公开涉及一种短路保护电路及短路保护方法，短路保护电路包括电流补偿电路，用于根据输入的电源电压信号调节第一补偿电流和第二补偿电流；时钟振荡电路，与电流补偿电路连接，用于根据第一补偿电流调节输出的第一时钟信号，以及用于根据第二补偿电流调节输出的第二时钟信号；其中，第一时钟信号的周期和第二时钟信号的周期反向变化；打嗝短路保护电路与时钟振荡电路连接，用于根据第一时钟信号调节输出的打嗝短路保护信号的有效电平持续时间，以及用于根据第二时钟信号调节输出的打嗝短路保护信号的周期。通过本公开的技术方案，降低了芯片短路功耗，以确保芯片在高电源电压短路工作时不会被烧毁。","Claim":"1.一种短路保护电路，其特征在于，包括：2.根据权利要求1所述的短路保护电路，其特征在于，所述时钟振荡电路包括：3.根据权利要求2所述的短路保护电路，其特征在于，所述时钟振荡电路还包括：4.根据权利要求3所述的短路保护电路，其特征在于，所述第一恒流源的正端接入第一电源信号，所述第一恒流源的负端分别与所述第一振荡器的充电控制端和所述第一电容的第一端连接并用于输入所述第一补偿电流，所述第一电容的第二端接入第二电源信号；5.根据权利要求1所述的短路保护电路，其特征在于，所述电流补偿电路包括：6.根据权利要求5所述的短路保护电路，其特征在于，所述比较器与所述第一补偿控制电路连接；7.根据权利要求5所述的短路保护电路，其特征在于，所述比较器与所述第二补偿控制电路连接；8.根据权利要求6或7所述的短路保护电路，其特征在于，所述第一补偿控制电路配置有第一限流源，所述第一限流源用于限制所述第一补偿控制电路输出的所述第一补偿电流不超过第一限流值；和/或，9.一种短路保护方法，其特征在于，包括：10.根据权利要求9所述的短路保护方法，其特征在于，具体包括：","MainClassificationNO":"H02H    9/02    (2006.01)","ClassificationNO":"H02H    9/02    (2006.01),","Agency":"北京开阳星知识产权代理有限公司 11710","Agent":"安伟","PatentType":"中国发明专利申请公布标准化全文文本数据","TechnicalField":"技术领域,本公开涉及电子电路技术领域，尤其涉及一种短路保护电路及短路保护方法。","TechnicalBackground":"背景技术,一般芯片在短路时会产生较大的短路电流，如果此时施加于芯片上的电源电压较高，会由于芯片整体功率过大而导致芯片烧毁。目前可以通过降低芯片短路电流来降低高电源电压时芯片烧毁的概率，但是由于特定原因导致芯片的短路电流无法降低或者需要保持较大的芯片短路电流时，会引入hiccup逻辑，即打嗝逻辑来防止芯片短路时被烧毁。,目前的打嗝短路保护电路，其输出的hiccup信号，即打嗝短路保护信号中的有效电平持续时间和打嗝短路保护信号的周期只能同步变化，如果施加于芯片的电源电压过高，同步变化的打嗝短路保护信号的有效电平持续时间和周期会导致芯片短路功耗增加，且施加于芯片的电源电压越高，芯片的短路功耗越大，导致芯片短路时容易被烧毁。","Context":"发明内容,为了解决上述技术问题或者至少部分地解决上述技术问题，本公开提供了一种短路保护电路及短路保护方法，降低了芯片短路功耗，以确保芯片在高电源电压短路工作时不会被烧毁。,本公开实施例提供了一种短路保护电路，包括：,电流补偿电路，用于根据输入的电源电压信号调节第一补偿电流和第二补偿电流；,时钟振荡电路，与所述电流补偿电路连接，用于根据所述第一补偿电流调节输出的第一时钟信号，以及用于根据所述第二补偿电流调节输出的第二时钟信号；其中，所述第一时钟信号的周期和所述第二时钟信号的周期反向变化；,打嗝短路保护电路与所述时钟振荡电路连接，用于根据所述第一时钟信号调节输出的打嗝短路保护信号的有效电平持续时间，以及用于根据所述第二时钟信号调节输出的所述打嗝短路保护信号的周期。,可选地，所述时钟振荡电路包括：,第一振荡器，用于根据第一设定电流与所述第一补偿电流的和值调节输出的所述第一时钟信号；,第二振荡器，用于根据第二设定电流与所述第二补偿电流的差值调节输出的所述第二时钟信号；,其中，所述第一补偿电流和所述第二补偿电流同向变化。,可选地，所述时钟振荡电路还包括：,第一恒流源和第一电容，所述第一恒流源同向接入所述第一补偿电流并向所述第一电容充电，所述第一振荡器用于根据所述第一电容的充电电流调节输出的所述第一时钟信号；,第二恒流源和第二电容，所述第二恒流源反向接入所述第二补偿电流并向所述第二电容充电，所述第二振荡器用于根据所述第二电容的充电电流调节输出的所述第二时钟信号。,可选地，所述第一恒流源的正端接入第一电源信号，所述第一恒流源的负端分别与所述第一振荡器的充电控制端和所述第一电容的第一端连接并用于输入所述第一补偿电流，所述第一电容的第二端接入第二电源信号；,所述第二恒流源的正端接入第一电源信号，所述第二恒流源的负端分别与所述第二振荡器的充电控制端和所述第二电容的第一端连接并用于输出所述第二补偿电流，所述第二电容的第二端接入第二电源信号。,可选地，所述电流补偿电路包括：,比较器、第一补偿控制电路和第二补偿控制电路，所述第一补偿控制电路与所述第二补偿控制电路连接；,所述比较器用于比较所述电源电压信号与参考信号，并根据比较结果调节输出的比较信号；,所述第一补偿控制电路用于根据所述比较信号调节所述第一补偿电流；,所述第二补偿控制电路用于根据所述比较信号调节所述第二补偿电流。,可选地，所述比较器与所述第一补偿控制电路连接；,所述比较器的正向输入端接入所述参考信号，所述比较器的反向输入端接入所述电源电压信号；,所述第一补偿控制电路包括第一P型电流镜和第二P型电流镜，所述第一P型电流镜用于根据所述比较信号调节输出的所述第一补偿电流，所述第二P型电流镜用于输出所述比较信号至所述第二补偿控制电路；,所述第二补偿控制电路包括N型电流镜，所述N型电流镜用于根据所述比较信号调节输入的所述第二补偿电流。,可选地，所述比较器与所述第二补偿控制电路连接；,所述比较器的正向输入端接入所述电源电压信号，所述比较器的反向输入端接入所述参考信号；,所述第二补偿控制电路包括第一N型电流镜和第二N型电流镜，所述第一N型电流镜用于根据所述比较信号调节输入的所述第二补偿电流，所述第二N型电流镜用于输出所述比较信号至所述第一补偿控制电路；,所述第一补偿控制电路包括P型电流镜，所述P型电流镜用于根据所述比较信号调节输出的所述第一补偿电流。,可选地，所述第一补偿控制电路配置有第一限流源，所述第一限流源用于限制所述第一补偿控制电路输出的所述第一补偿电流不超过第一限流值；和/或，,所述第二补偿控制电路配置有第二限流源，所述第二限流源用于限制所述第二补偿控制电路输入的所述第二补偿电流不超过第二限流值。,本公开实施例还提供了一种短路保护方法，包括：,根据电源电压信号调节第一补偿电流和第二补偿电流；,根据所述第一补偿电流调节第一时钟信号，根据所述第二补偿电流调节第二时钟信号；其中，所述第一时钟信号的周期和所述第二时钟信号的周期反向变化；,根据所述第一时钟信号调节打嗝短路保护信号的有效电平持续时间，以及根据所述第二时钟信号所述调节打嗝短路保护信号的周期。,可选地，所述的短路保护方法具体包括：,当所述电源电压信号的电平值大于参考信号的电平值且所述电源电压信号的电平值增加时，控制所述第一补偿电流和所述第二补偿电流增加，以及控制所述第一时钟信号的周期减小，所述第二时钟信号的周期增加，以控制所述打嗝短路保护信号的有效电平持续时间减小，所述打嗝短路保护信号的周期增加；,当所述电源电压信号的电平值小于所述参考信号的电平值时，控制所述第一补偿电流和所述第二补偿电流截止。,本公开实施例提供的技术方案与现有技术相比具有如下优点：,本公开实施例设置短路保护电路包括电流补偿电路和时钟振荡电路，时钟振荡电路分别与电流补偿电路和打嗝保护电路连接，电流补偿电路根据输入的电源电压信号调节第一补偿电流和第二补偿电流，时钟振荡电路根据第一补偿电流调节输出的第一时钟信号，以及根据第二补偿电流调节输出的第二时钟信号，打嗝保护电路根据第一时钟信号调节输出的打嗝短路保护信号的有效电平持续时间，以及根据第二时钟信号调节输出的打嗝短路保护信号的周期，设置第一时钟信号的周期与第二时钟信号的周期反向变化，即可以实现第一时钟信号的周期减小的同时第二时钟信号的周期增加，进而有利于实现打嗝短路保护信号的有效电平持续时间减小的同时，打嗝短路保护信号的周期增加，在电源电压信号较大时降低芯片短路电流的持续时间以及降低芯片短路情况出现的频率，进而降低芯片短路功耗，以确保芯片在高电源电压短路工作时不会被烧毁。","InstructionWithPicture":"附图说明,此处的附图被并入说明书中并构成本说明书的一部分，示出了符合本公开的实施例，并与说明书一起用于解释本公开的原理。,为了更清楚地说明本公开实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作简单地介绍，显而易见地，对于本领域普通技术人员而言，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。,图1为本公开实施例提供的一种短路保护电路的结构示意图；,图2为本公开实施例提供的一种改进前后的打嗝短路保护信号的时序仿真图；,图3为本公开实施例提供的一种时钟振荡电路的结构示意图；,图4为本公开实施例提供的一种电流补偿电路的结构示意图；,图5为本公开实施例提供的另一种电流补偿电路的结构示意图；,图6为本公开实施例提供的一种短路保护方法的流程示意图。","Implementation":"具体实施方式,为了能够更清楚地理解本公开的上述目的、特征和优点，下面将对本公开的方案进行进一步描述。需要说明的是，在不冲突的情况下，本公开的实施例及实施例中的特征可以相互组合。,在下面的描述中阐述了很多具体细节以便于充分理解本公开，但本公开还可以采用其他不同于在此描述的方式来实施；显然，说明书中的实施例只是本公开的一部分实施例，而不是全部的实施例。,图1为本公开实施例提供的一种短路保护电路的结构示意图。如图1所示，短路保护电路包括电流补偿电路1和时钟振荡电路2，时钟振荡电路2分别与电流补偿电路1和打嗝短路保护电路3连接。,电流补偿电路1用于根据输入的电源电压信号调节第一补偿电流Iosc1和第二补偿电流Iosc2，时钟振荡电路2获取到第一补偿电流Iosc1和第二补偿电流Iosc2，并根据第一补偿电流Iosc1调节输出的第一时钟信号CLK1，以及根据第二补偿电流Iosc2调节输出的第二时钟信号CLK2。打嗝短路保护电路3获取到时钟振荡电路2输出的第一时钟信号CLK1和第二时钟信号CLK2，并根据第一时钟信号CLK1调节输出的打嗝短路保护信号的有效电平持续时间，以及根据第二时钟信号CLK2调节输出的打嗝短路保护信号的周期。其中，第一时钟信号CLK1的周期和第二时钟信号CLK2的周期反向变化，即第一时钟信号CLK1的周期减小，第二时钟信号CLK2的周期则增加。,一般芯片在短路时会产生较大的短路电流，如果此时施加于芯片上的电源电压较高，会由于芯片整体功率过大而导致芯片烧毁。目前可以通过降低芯片短路电流来降低高电源电压时芯片烧毁的概率，但是由于特定原因导致芯片的短路电流无法降低或者需要保持较大的芯片短路电流时，会引入hiccup逻辑，即打嗝逻辑来防止芯片短路时被烧毁。目前的打嗝短路保护电路，其输出的hiccup信号，即打嗝短路保护信号中的有效电平持续时间和打嗝短路保护信号的周期只能同步变化，如果施加于芯片的电源电压过高，同步变化的打嗝短路保护信号的有效电平持续时间和周期会导致芯片短路功耗增加，且施加于芯片的电源电压越高，芯片的短路功耗越大，导致芯片短路时容易被烧毁。,本公开实施例利用电流补偿电路1输出的第一补偿电流Iosc1和第二补偿电流Iosc2，对时钟振荡电路2中的用于控制时钟信号周期的电流进行补偿，使得时钟振荡电路2输出的第一时钟信号CLK1的周期和第二时钟信号CLK2的周期反向变化，最终将第一时钟信号CLK1传输至打嗝短路保护电路3用于控制打嗝短路保护信号中有效电平持续时间的端口，将第二时钟信号CLK2传输至打嗝短路保护电路3用于控制打嗝短路保护信号周期的端口。,这样，实现了第一时钟信号CLK1的周期减小的同时，第二时钟信号CLK2的周期增加，第一时钟信号CLK1周期的减小使得打嗝短路保护信号的有效电平的持续时间减小，而打嗝短路保护信号的有效电平的持续时间与芯片短路电流的持续时间成正比，进而使得芯片短路电流的持续时间减小。同时，第二时钟信号CLK2周期的增加使得打嗝短路保护信号的周期增加，而打嗝短路保护信号的周期与芯片短路电流出现的频率成反比，进而使得芯片短路情况出现的频率降低，即可以在电源电压信号较大时同时降低芯片短路电流的持续时间以及降低芯片短路情况出现的频率，进而降低芯片短路功耗，以确保芯片在高电源电压短路工作时不会被烧毁。,图2为本公开实施例提供的一种改进前后的打嗝短路保护信号的时序仿真图。图2中上方为现有技术生成的打嗝短路保护信号A1的波形，下方为采用本公开实施例提供的短路保护电路生成的打嗝短路保护信A2的波形。以打嗝短路保护信号的有效电平为高电平为例，由图2可知，本公开实施例提供的短路保护电路使得打嗝短路保护信号的有效电平持续时间减小，即t2小于t1，打嗝短路保护信号的周期增加，即T2大于T1，即可以在电源电压信号较大时同时降低芯片短路电流的持续时间以及降低芯片短路情况出现的频率，进而降低芯片短路功耗，以确保芯片在高电源电压短路工作时不会被烧毁。需要说明的是，图2仅以打嗝短路保护信号的有效电平为高电平进行示例，也可以设置打嗝短路保护信号的有效电平为低电平，本公开实施例对此不作具体限定。,图3为本公开实施例提供的一种时钟振荡电路的结构示意图。结合图1和图3，可以设置时钟振荡电路2包括第一振荡器OSC1和第二振荡器OSC2，第一振荡器OSC1用于根据第一设定电流与第一补偿电流Iosc1的和值调节输出的第一时钟信号CLK1，第二振荡器OSC2用于根据第二设定电流与第二补偿电流Iosc2的差值调节输出的第二时钟信号CLK2，第一补偿电流Iosc1和第二补偿电流Iosc2同向变化。,具体地，第一补偿电流Iosc1和第二补偿电流Iosc2同向变化，即第一补偿电流Iosc1增加，则第二补偿电流Iosc2增加；第一补偿电流Iosc1减小，则第二补偿电流Iosc2减小。第一设定电流与第一补偿电流Iosc1的和值作用于第一振荡器OSC1，第一补偿电流Iosc1增加时，使得作用于第一振荡器OSC1的总电流增加；第二设定电流与第二补偿电流Iosc2的差值作用于第二振荡器OSC2，第一补偿电流Iosc1增加时，第二补偿电流Iosc2同步增加，使得作用于第二振荡器OSC2的总电流减小。,可选地，结合图1和图3，时钟振荡电路2还可以包括第一恒流源I1和第一电容C1，以及第二恒流源I2和第二电容C2，第一恒流源I1同向接入第一补偿电流Iosc1并向第一电容C1充电，第一振荡器OSC1用于根据第一电容C1的充电电流调节输出的第一时钟信号CLK1。第二恒流源I2反向接入第二补偿电流Iosc2并向第二电容C2充电，第二振荡器OSC2用于根据第二电容C2的充电电流调节输出的第二时钟信号CLK2。,具体地，第一恒流源I1提供的电流为第一设定电流，第一恒流源I1同向接入第一补偿电流Iosc1，即第一恒流源I1提供的第一设定电流与第一补偿电流Iosc1相对于第一振荡器OSC1的流向相同，进而使得第一设定电流与第一补偿电流Iosc1的总和作用于第一电容C1，通过调节第一电容C1的充电电流进而实现对第一振荡器OSC1输出的第一时钟信号CLK1的周期的调节。第二恒流源I2提供的电流为第二设定电流，第二恒流源I2反向接入第二补偿电流Iosc2，即第二恒流源I2提供的第二设定电流与第二补偿电流Iosc2相对于第二振荡器OSC2的流向相反，进而使得第二设定电流与第二补偿电流Iosc2的差值作用于第二电容C2，通过调节第二电容C2的充电电流进而实现对第二振荡器OSC2输出的第二时钟信号CLK2的周期的调节。,可选地，结合图1和图3，可以设置第一恒流源I1的正端接入第一电源信号VDD，第一恒流源I1的负端分别与第一振荡器OSC1的充电控制端B1和第一电容C1的第一端连接，第一恒流源I1的负端同时用于输入第一补偿电流Iosc1，第一电容C1的第二端接入第二电源信号。第二恒流源I2的正端接入第一电源信号VDD，第二恒流源I2的负端分别与第二振荡器OSC2的充电控制端B2和第二电容C2的第一端连接，第二恒流源I2的负端同时用于输出第二补偿电流Iosc2，第二电容C2的第二端接入第二电源信号。,示例性地，第一电源信号VDD例如可以为高电平电源信号，第二电源信号例如可以为地信号GND。具体地，第一振荡器OSC1输出的第一时钟信号CLK1的周期与第一振荡器OSC1的充电控制端B1的充电电流成反比，第二振荡器OSC2输出的第二时钟信号CLK2的周期同样与第二振荡器OSC2的充电控制端B2的充电电流成反比。,这样，通过设置图3所示的连接关系，利用第一补偿电流Iosc1对第一设定电流进行补偿，二者的和值共同向第一电容C1充电，第一补偿电流Iosc1越大，第一电容C1的充电电流越大，使得第一振荡器OSC1输出的第一时钟信号CLK1的周期减小，第一时钟信号CLK1接入打嗝短路保护电路3用于控制打嗝短路保护信号的有效电平持续时间的端口，使得打嗝短路保护信号的有效电平持续时间减小，进而减小了芯片短路电流的持续时间。,利用第二补偿电流Iosc2对第二设定电流进行补偿，二者的差值共同向第二电容C2充电，第二补偿电流Iosc2越大，第二电容C2的充电电流越小，使得第二振荡器OSC2输出的第二时钟信号CLK2的周期增加，第二时钟信号CLK2接入打嗝短路保护电路3用于控制打嗝短路保护信号的周期的端口，使得打嗝短路保护信号的周期增加，进而降低了芯片短路情况出现的频率，实现芯片短路功耗的降低，以确保芯片在高电源电压短路工作时不会被烧毁。,另外，图3中的晶体管Mn4和Mn5分别用于使第一振荡器OSC1和第二振荡器OSC2形成闭环回路，使得第一振荡器OSC1和第二振荡器OSC2振荡以生成对应的时钟信号。,图4为本公开实施例提供的一种电流补偿电路的结构示意图。结合图1至图4，可以设置电流补偿电路1包括比较器COMP、第一补偿控制电路11和第二补偿控制电路12，第一补偿控制电路11与第二补偿控制电路12连接。比较器COMP用于比较电源电压信号与参考信号Vref，并根据比较结果调节输出的比较信号，第一补偿控制电路11用于根据比较信号调节第一补偿电流Iosc1，第二补偿控制电路12用于根据比较信号调节第二补偿电流Iosc2。,具体地，比较器COMP接入电源电压信号和参考信号Vref，并比较电源电压信号与参考信号Vref的大小。当电源电压信号的电平值小于参考信号Vref的电平值时，比较器COMP的输出电压很低，第一补偿电流Iosc1和第二补偿电流Iosc2截止。当电源电压信号的电平值大于参考信号Vref的电平值且电源电压信号的电平值逐渐增加时，比较器COMP的输出电压增加，第一补偿控制电路11生成的第一补偿电流Iosc1与第二补偿控制电路12生成的第二补偿电流Iosc2增加。,参照上述对时钟振荡电路2工作原理的说明，第一补偿电流Iosc1与第二补偿电流Iosc2增加能够实现在电源电压信号较大，例如当电源电压信号的电平值大于参考信号Vref的电平值时，控制第一振荡器OSC1输出的第一时钟信号CLK1的周期减小，第二振荡器OSC2输出的第二时钟信号CLK2的周期增加，以控制打嗝短路保护信号的有效电平持续时间减小，打嗝短路保护信号的周期增加，即可以在电源电压信号较大时同时降低芯片短路电流的持续时间以及降低芯片短路情况出现的频率，进而降低芯片短路功耗，以确保芯片在高电源电压短路工作时不会被烧毁。,示例性地，可以设置比较器COMP接入电源电压信号的分压Divider_Vin，由于短路保护电路整体为低压电路，较高的电源电压无法确保短路保护电路正常工作，因此采用电源电压信号的分压作为比对值，以提高短路保护电路的信号处理精度，相应地，参考信号Vref也可以对应分压比例适当减小。,可选地，结合图1至图4，可以设置比较器COMP与第一补偿控制电路11连接，比较器COMP的正向输入端+接入参考信号Vref，比较器COMP的反向输入端-接入电源电压信号。第一补偿控制电路11包括第一P型电流镜和第二P型电流镜，第一P型电流镜用于根据比较信号调节输出的第一补偿电流Iosc1，第二P型电流镜用于输出比较信号至第二补偿控制电路12。第二补偿控制电路12包括N型电流镜，N型电流镜用于根据比较信号调节输入的第二补偿电流Iosc2。,具体地，第一P型电流镜包括晶体管Mp1和Mp2，第二P型电流镜包括晶体管Mp1和Mp3，N型电流镜包括晶体管Mn1和Mn2，晶体管Mp1和Mp2用于产生第一补偿电流Iosc1，且随着电源电压信号的增加，即随着比较器COMP输出电压的增加，晶体管Mp1和Mp2产生的第一补偿电流Iosc1增加。晶体管Mp1和Mp3则用于向晶体管Mn1和Mn2提供电流源，晶体管Mn1和Mn2用于产生第二补偿电流Iosc2，且随着电源电压信号的增加，即随着比较器COMP输出电压的增加，晶体管Mn1和Mn2产生的第二补偿电流Iosc2增加，进而利用随着电源电压信号的增加而增加的第一补偿电流Iosc1和第二补偿电流Iosc2，分别对第一振荡器OSC1和第二振荡器OSC2对应的充电电流进行补偿。,可选地，结合图1至图4，可以设置第一补偿控制电路11配置有第一限流源Ilimit_p，第一限流源Ilimit_p用于限制第一补偿控制电路11输出的第一补偿电流Iosc1不超过第一限流值；和/或，第二补偿控制电路12配置有第二限流源Ilimit_n，第二限流源Ilimit_n用于限制第二补偿控制电路12输入的第二补偿电流Iosc2不超过第二限流值。图4示例性地设置第一补偿控制电路11配置有第一限流源Ilimit_p，且第二补偿控制电路12配置有第二限流源Ilimit_n。,具体地，可以将第一限流源Ilimit_p设置在第一P型电流镜中用于输出第一补偿电流Iosc1晶体管的源极，将第二限流源Ilimit_n设置在N型电流镜中用于输出第二补偿电流Iosc2晶体管的源极，进而达到对第一补偿电流Iosc1和第二补偿电流Iosc2的限流作用，避免电源电压信号过大产生过大的第一补偿电流Iosc1和第二补偿电流Iosc2，影响第一振荡器OSC1输出第一时钟信号CLK1和第二振荡器OSC2输出第二时钟信号CLK2的准确性。示例性地，可以根据比较器COMP产生的最大电流占第一振荡器OSC1或者第二振荡器OSC2原有充电电流的比例，对第一限流源Ilimit_p和第二限流源Ilimit_n的限流值进行具体设定。,图5为本公开实施例提供的另一种电流补偿电路的结构示意图。结合图1至图3以及图5，可以设置比较器COMP与第二补偿控制电路12连接，比较器COMP的正向输入端+接入电源电压信号，比较器COMP的反向输入端-接入参考信号Vref。第二补偿控制电路12包括第一N型电流镜和第二N型电流镜，第一N型电流镜用于根据比较信号调节输入的第二补偿电流Iosc2，第二N型电流镜用于输出比较信号至第一补偿控制电路11。第一补偿控制电路11包括P型电流镜，P型电流镜用于根据比较信号调节输出的第一补偿电流Iosc1。,具体地，第一N型电流镜包括晶体管Mn1和Mn2，第二N型电流镜包括晶体管Mn1和Mn3，P型电流镜包括晶体管Mp1和Mp2，晶体管Mn1和Mn2用于产生第二补偿电流Iosc2，且随着电源电压信号的增加，即随着比较器COMP输出电压的增加，晶体管Mn1和Mn2产生的第二补偿电流Iosc2增加。晶体管Mn1和Mn3则用于向晶体管Mp1和Mp2提供电流源，晶体管Mp1和Mp2用于产生第一补偿电流Iosc1，且随着电源电压信号的增加，即随着比较器COMP输出电压的增加，晶体管Mp1和Mp2产生的第一补偿电流Iosc1增加，进而利用随着电源电压信号的增加而增加的第一补偿电流Iosc1和第二补偿电流Iosc2，分别对第一振荡器OSC1和第二振荡器OSC2对应的充电电流进行补偿。,可选地，结合图1至图3以及图5，同样可以设置第一补偿控制电路11配置有第一限流源Ilimit_p，第一限流源Ilimit_p用于限制第一补偿控制电路11输出的第一补偿电流Iosc1不超过第一限流值；和/或，第二补偿控制电路12配置有第二限流源Ilimit_n，第二限流源Ilimit_n用于限制第二补偿控制电路12输入的第二补偿电流Iosc2不超过第二限流值。图5示例性地设置第一补偿控制电路11配置有第一限流源Ilimit_p，且第二补偿控制电路12配置有第二限流源Ilimit_n。,具体地，可以将第一限流源Ilimit_p设置在P型电流镜中用于输出第一补偿电流Iosc1晶体管的源极，将第二限流源Ilimit_n设置在第一N型电流镜中用于输出第二补偿电流Iosc2晶体管的源极，进而达到对第一补偿电流Iosc1和第二补偿电流Iosc2的限流作用，避免电源电压信号过大产生过大的第一补偿电流Iosc1和第二补偿电流Iosc2，影响第一振荡器OSC1输出第一时钟信号CLK1和第二振荡器OSC2输出第二时钟信号CLK2的准确性。,本公开实施例还提供了一种短路保护方法。图6为本公开实施例提供的一种短路保护方法的流程示意图，短路保护方法可以应用在需要对芯片进行短路保护的场景，可以由上述实施例的短路保护电路执行。如图6所示，短路保护方法包括：,S1、根据电源电压信号调节第一补偿电流和第二补偿电流。,S2、根据第一补偿电流调节第一时钟信号，根据第二补偿电流调节第二时钟信号；其中，第一时钟信号的周期和第二时钟信号的周期反向变化。,S3、根据第一时钟信号调节打嗝短路保护信号的有效电平持续时间，以及根据第二时钟信号调节打嗝短路保护信号的周期。,可选地，结合图1至图5，短路保护方法具体可以包括当电源电压信号的电平值大于参考信号Vref的电平值且电源电压信号的电平值增加时，控制第一补偿电流Iosc1和第二补偿电流Iosc2增加，以及控制第一时钟信号CLK1的周期减小，第二时钟信号CLK2的周期增加，以控制打嗝短路保护信号的有效电平持续时间减小，打嗝短路保护信号的周期增加。当电源电压信号的电平值小于参考信号Vref的电平值时，控制第一补偿电流Iosc1和第二补偿电流Iosc2截止。,这样，本公开实施例利用两个振荡器控制hiccup信号，即打嗝短路保护信号的有效电平持续时间和周期，可以在电源电压信号较大时同时降低芯片短路电流的持续时间以及降低芯片短路情况出现的频率，进而降低芯片短路功耗，以确保芯片在高电源电压短路工作时不会被烧毁。,需要说明的是，在本文中，诸如“第一”和“第二”等之类的关系术语仅仅用来将一个实体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个……”限定的要素，并不排除在包括要素的过程、方法、物品或者设备中还存在另外的相同要素。,以上仅是本公开的具体实施方式，使本领域技术人员能够理解或实现本公开。对这些实施例的多种修改对本领域的技术人员来说将是显而易见的，本文中所定义的一般原理可以在不脱离本公开的精神或范围的情况下，在其它实施例中实现。因此，本公开将不会被限制于本文的这些实施例，而是要符合与本文所公开的原理和新颖特点相一致的最宽的范围。","InstructionPic":"","AbstractPic":""}